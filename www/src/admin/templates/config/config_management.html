{% include 'link.html' %}
<link rel="stylesheet" href="{{ url_for('static', filename='admin/css/best_practice/bp_management.css') }}" />
<div class="w-100">
	<!-- Main Content -->
	<div class="col-md-12 col-lg-12 content-area p-0">
		<div class="container-fluid p-4">
			<div class="d-flex justify-content-between align-items-center mb-4">
				<div>
					<h1 class="display-6 fw-bold">Configuration Management</h1>
					<p class="text-muted">Manage system configuration settings</p>
				</div>
				<a href="{{ url_for('admin_route.config_route.add_config') }}" class="btn btn-primary">
					<i class="fas fa-plus me-1"></i> Add New Configuration
				</a>
			</div>

			<!-- Table -->
			<div class="table-responsive">
				<table class="table table-hover table-bordered align-middle">
					<thead class="table-dark">
						<tr>
							<th width="25%">Type</th>
							<th width="30%">Key</th>
							<th width="35%">Value</th>
							<th width="10%">Actions</th>
						</tr>
					</thead>
					<tbody id="config-tbody">
						{% if configs %}
							{% for config in configs %}
								<tr>
									<td>{{ config.type }}</td>
									<td>{{ config.key }}</td>
									<td>{{ config.value }}</td>
									<td>
										<a href="{{ url_for('admin_route.config_route.edit_config', type_=config.type, key=config.key) }}" class="btn btn-sm btn-warning">
											<i class="fas fa-edit"></i>
										</a>
									</td>
								</tr>
							{% endfor %}
						{% else %}
							<tr>
								<td colspan="4" class="text-center">No configurations found.</td>
							</tr>
						{% endif %}
					</tbody>
				</table>
			</div>

			<!-- Pagination -->
			<div class="d-flex justify-content-between align-items-center mt-3">
				<div class="text-muted">
					Showing <span id="currentPage">1</span> of <span id="totalPages">
						{% if configs %}
							{{ (configs|length + 9) // 10 }}
						{% else %}
							1
						{% endif %}
					</span> pages
					(<span id="totalItems">{{ configs|length }}</span> items)
				</div>
				<nav>
					<ul class="pagination" id="pagination-controls">
						<li class="page-item" id="prevPageBtn">
							<a class="page-link" href="#" aria-label="Previous">
								<span aria-hidden="true">&laquo;</span>
							</a>
						</li>
						<li class="page-item active" data-page="1"><a class="page-link" href="#">1</a></li>
						{% for i in range(2, (configs|length + 9) // 10 + 1) %}
							<li class="page-item" data-page="{{ i }}"><a class="page-link" href="#">{{ i }}</a></li>
						{% endfor %}
						<li class="page-item" id="nextPageBtn">
							<a class="page-link" href="#" aria-label="Next">
								<span aria-hidden="true">&raquo;</span>
							</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
	</div>
</div>

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{{ url_for('static', filename='admin/js/config/config_management.js') }}"></script>
{% endblock %}