<div class="row">
    <!-- Sidebar -->


    <!-- Main Content -->
    <div class="col-12 content-area p-0" style="flex-grow: 1; transition: width 0.3s ease-in-out; overflow: hidden;">
        <div class="container">
            <div class="page-header d-flex justify-content-between align-items-center">
                <div>
                    <h1>Add New Patch</h1>
                    <p>Create a new patch in the system</p>
                </div>
                <button onclick="window.location.href='/admin/db-patch'" class="btn btn-outline-secondary back-btn" >Back to Patches </button>
            </div>

            <!-- Form for adding new patch -->
            <div class="form-container">
                <form id="addPatchForm" method="POST" action="{{ url_for('base.admin.db_patch.add_new_patch') }}">
                    
                    {% if error %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <i class="fas fa-exclamation-circle me-2"></i> {{ error }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    {% endif %}
                    
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title mb-4">Patch Information</h5>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="id">Patch ID <span class="text-danger">*</span></label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-hashtag"></i></span>
                                            <input type="number" class="form-control" id="id" name="id" placeholder="e.g., 1001" required>
                                        </div>
                                        <small class="form-text text-muted">A unique identifier for the patch</small>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="patch_type">Patch Type <span class="text-danger">*</span></label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-tag"></i></span>
                                            <input type="text" class="form-control" id="patch_type" name="patch_type" placeholder="e.g., Security" required>
                                        </div>
                                        <small class="form-text text-muted">Type of the patch (e.g., Security, Bug Fix)</small>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="db_version">DB Version <span class="text-danger">*</span></label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-database"></i></span>
                                            <input type="text" class="form-control" id="db_version" name="db_version" placeholder="e.g., 19c" required>
                                        </div>
                                        <small class="form-text text-muted">Database version this patch applies to</small>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="Type">Type <span class="text-danger">*</span></label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-tag"></i></span>
                                            <input type="text" class="form-control" id="type" name="type" placeholder="e.g., Security" required>
                                        </div>
                                        <small class="form-text text-muted">Additional type information</small>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="Format">Format <span class="text-danger">*</span></label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-file-alt"></i></span>
                                            <input type="text" class="form-control" id="format" name="format" placeholder="e.g., 123" required>
                                        </div>
                                        <small class="form-text text-muted">Format number of the patch</small>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="fixed_in_ru">Patch Root <span class="text-danger">*</span></label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-folder"></i></span>
                                            <input type="number" class="form-control" id="fixed_in_ru" name="fixed_in_ru" placeholder="e.g., 0" required>
                                        </div>
                                        <small class="form-text text-muted">Root identifier for the patch</small>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="fixed_in_ru">Fixed in RU</label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-tools"></i></span>
                                            <input type="text" class="form-control" id="fixed_in_ru" name="fixed_in_ru" placeholder="e.g., RU_2023">
                                        </div>
                                        <small class="form-text text-muted">Release Update where this patch is fixed (optional)</small>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="fixed_in_mrp">Fixed in MRP</label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-tools"></i></span>
                                            <input type="text" class="form-control" id="fixed_in_mrp" name="fixed_in_mrp" placeholder="e.g., MRP_2023">
                                        </div>
                                        <small class="form-text text-muted">Monthly Recommended Patch where this is fixed (optional)</small>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="Description">Description</label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-info-circle"></i></span>
                                            <textarea class="form-control" id="description" name="description" rows="3" placeholder="e.g., This patch addresses security vulnerabilities"></textarea>
                                        </div>
                                        <small class="form-text text-muted">A brief description of the patch (optional)</small>
                                    </div>
                                </div>
                            </div>

                            <div class="form-actions mt-4">
                                <div class="text-end">
                                    <button onclick="window.location.href='/admin/db-patch'" class="btn btn-outline-secondary me-2" >Cancel</button>
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-plus me-1"></i> Create Patch
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% block scripts %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% endblock %}